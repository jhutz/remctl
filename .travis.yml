# Configuration for Travis-CI continuous integration.
#
# Copyright 2016, 2018-2019 Russ Allbery <eagle@eyrie.org>
#
# SPDX-License-Identifier: MIT

sudo: required
dist: bionic

language: c
compiler:
  - gcc
  - clang

before_install: sudo ci/install

env: AUTHOR_TESTING=1 C_TAP_VERBOSE=1
script: ci/test

branches:
  except:
    - /^debian\/.*/
    - java
    - pristine-tar
    - /^ubuntu\/.*/
    - /^upstream\/.*/
